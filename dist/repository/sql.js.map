{"version":3,"sources":["../../src/repository/sql.js"],"names":["SqlRepository","constructor","model","sync","then","resolve","catch","err","console","error","save","data","create","saveMany","collection","bulkCreate","all","get","id","findById","update","where","delete","destroy"],"mappings":";;;;;;AAAA;;;;;;AAEe,MAAMA,aAAN,CAAoB;AAC/BC,gBAAYC,QAAQ,EAApB,EAAwB;AACpB,aAAKA,KAAL,GAAaA,KAAb;AACH;;AAEDC,WAAO;AACH,eAAO,KAAKD,KAAL,CAAWC,IAAX,GACFC,IADE,CACG,MAAM;AACR,mBAAO,mBAAQC,OAAR,CAAgB,IAAhB,CAAP;AACH,SAHE,EAGAC,KAHA,CAGMC,OAAO;AAChBC,oBAAQC,KAAR,CAAcF,GAAd;AACA,mBAAO,mBAAQF,OAAR,CAAgB,KAAhB,CAAP;AACH,SANM,CAAP;AAOH;AACDK,SAAKC,IAAL,EAAU;AACN,eAAO,KAAKT,KAAL,CAAWU,MAAX,CAAkBD,IAAlB,CAAP;AACH;AACDE,aAASC,UAAT,EAAoB;AAChB,eAAO,KAAKZ,KAAL,CAAWa,UAAX,CAAsBD,UAAtB,CAAP;AACH;AACDE,UAAK;AACD,eAAO,KAAKd,KAAL,CAAWc,GAAX,EAAP;AACH;AACDC,QAAIC,EAAJ,EAAO;AACH,eAAO,KAAKhB,KAAL,CAAWiB,QAAX,CAAoBD,EAApB,CAAP;AACH;AACDE,WAAOF,EAAP,EAAUP,IAAV,EAAe;AACX,eAAO,KAAKT,KAAL,CAAWkB,MAAX,CAAkBT,IAAlB,EAAuB;AAC1BU,mBAAQ;AACJH,oBAAKA;AADD;AADkB,SAAvB,CAAP;AAKH;AACDI,WAAOJ,EAAP,EAAU;AACN,eAAO,KAAKhB,KAAL,CAAWqB,OAAX,CAAmB;AACtBF,mBAAQ;AACJH,oBAAKA;AADD;AADc,SAAnB,CAAP;AAKH;AAvC8B;kBAAdlB,a","file":"sql.js","sourcesContent":["import Promise from 'bluebird';\n\nexport default class SqlRepository {\n    constructor(model = {}) {\n        this.model = model;\n    }\n\n    sync() {\n        return this.model.sync()\n            .then(() => {\n                return Promise.resolve(true);\n            }).catch(err => {\n            console.error(err);\n            return Promise.resolve(false);\n        });\n    }\n    save(data){\n        return this.model.create(data);\n    }\n    saveMany(collection){\n        return this.model.bulkCreate(collection);\n    }\n    all(){\n        return this.model.all();\n    }\n    get(id){\n        return this.model.findById(id);\n    }\n    update(id,data){\n        return this.model.update(data,{\n            where : {\n                id : id\n            }\n        });\n    }\n    delete(id){\n        return this.model.destroy({\n            where : {\n                id : id\n            }\n        });\n    }\n}"]}