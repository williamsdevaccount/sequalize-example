{"version":3,"sources":["../../src/routes/polls.js"],"names":["connection","__dirname","models","service","poll","router","route","post","save","get","all","patch","update","delete"],"mappings":";;;;;;AAAA;;AACA;;;;AACA;;;;AACA;;AACA;;;;AACA,MAAMA,aAAa,wCAAqB,GAAEC,SAAU,8BAAjC,CAAnB;AACA,MAAMC,SAAS,sBAAUF,UAAV,CAAf;AACA,MAAMG,UAAU,sBAAgB,kBAAeD,OAAOE,IAAtB,CAAhB,CAAhB;AACA,MAAMC,SAAS,sBAAf;;AAEAA,OAAOC,KAAP,CAAa,GAAb,EACKC,IADL,CACUJ,QAAQK,IADlB,EAEKC,GAFL,CAESN,QAAQO,GAFjB;AAGAL,OAAOC,KAAP,CAAa,MAAb,EACKG,GADL,CACSN,QAAQM,GADjB,EAEKE,KAFL,CAEWR,QAAQS,MAFnB,EAGKC,MAHL,CAGYV,QAAQU,MAHpB;;kBAKeR,M","file":"polls.js","sourcesContent":["import {Router} from 'express';\nimport PollService from '../services/service';\nimport Repository from '../repository/sql';\nimport {getSqliteConnection} from '../util/sqlconnection';\nimport {getModels} from \"../models/index\";\nconst connection = getSqliteConnection(`${__dirname}/../../src/data/polls.sqlite`);\nconst models = getModels(connection);\nconst service = new PollService(new Repository(models.poll));\nconst router = Router();\n\nrouter.route('/')\n    .post(service.save)\n    .get(service.all);\nrouter.route('/:id')\n    .get(service.get)\n    .patch(service.update)\n    .delete(service.delete);\n\nexport default router;\n\n\n\n"]}